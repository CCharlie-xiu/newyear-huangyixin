# 年度回顾 H5 交互开发文档

> 文档目的：
> 用于指导前端开发完整实现「回顾型 H5」的交互流程与状态控制，
> 本文档 **不涉及具体内容与视觉稿**，仅定义流程、状态与交互规则。

---

## 一、项目概述

* 项目类型：移动端 H5
* 页面结构：单页纵向滚动
* 核心特性：

  * 强仪式感进入
  * 线性回顾主流程
  * 局部自由浏览
  * 明确结束态

---

## 二、设计原则

1. **单主线原则**
   所有用户行为围绕纵向滚动展开，不提供复杂导航或多分支路径。

2. **弱操作、强节奏**
   尽量减少点击操作，主要通过滚动节奏与内容密度变化引导情绪。

3. **状态可感知**
   用户始终能感知当前所处阶段（开始 / 回顾中 / 接近结束）。

---

## 三、页面结构划分（Section 定义）

| Section ID | 名称   | 作用          | 是否必选 |
| ---------- | ---- | ----------- | ---- |
| intro      | 引导层  | 隔离环境、获取用户确认 | 是    |
| cover      | 开篇封面 | 定义年份与主题     | 是    |
| timeline   | 时间锚点 | 建立时间推进感     | 是    |
| memories   | 回忆主体 | 自由浏览核心内容    | 是    |
| highlight  | 高光时刻 | 情绪峰值放大      | 推荐   |
| pause      | 减速区  | 情绪缓冲        | 推荐   |
| ending     | 结束区  | 情绪闭环与离场     | 是    |

---

## 四、交互流程说明（阶段级）

### 阶段 0：进入态（Entry State）

* **用户行为**：打开页面
* **系统状态**：

  * 显示全屏蒙层
  * 页面禁止滚动
  * 音频未播放
* **进入条件**：页面加载完成
* **退出条件**：用户点击【开启回忆】

---

### 阶段 1：引导确认（Start State）

* **用户行为**：点击开始按钮
* **系统响应**：

  * 蒙层淡出
  * 主内容区显示
  * 音频开始播放
  * 解锁页面滚动
* **状态变化**：Entry → Cover

---

### 阶段 2：封面展示（Cover State）

* **用户行为**：无操作或首次滚动
* **系统响应**：

  * 展示年份 / 主题
  * 等待滚动进入下一阶段
* **退出条件**：首次有效滚动

---

### 阶段 3：时间推进（Timeline State）

* **用户行为**：持续向下滚动
* **系统响应**：

  * 时间节点逐个进入视口
  * 已浏览节点标记为完成态
* **技术建议**：IntersectionObserver

---

### 阶段 4：回忆浏览（Memories State）

* **用户行为**：

  * 滚动
  * 停留
  * 快速略过
* **系统响应**：

  * 内容按顺序加载
  * 图片 / 模块懒加载
  * 不打断用户行为
* **说明**：此阶段为主停留区

---

### 阶段 5：高光时刻（Highlight State）

* **触发方式**：滚动进入高光区
* **系统响应**：

  * 内容视觉权重提升
  * 页面节奏明显放慢
* **限制**：全年回顾不超过 1–2 次

---

### 阶段 6：减速沉淀（Pause State）

* **用户行为**：停留或继续滚动
* **系统响应**：

  * 内容极简
  * 留白增加
  * 音乐情绪降低（可选）

---

### 阶段 7：结束态（Ending State）

* **用户行为**：滚动至页面底部
* **系统响应**：

  * 展示总结性文案
  * 提供结束选项（再看一次 / 分享 / 关闭）
* **说明**：必须明确这是流程终点

---

## 五、全局交互规则

### 滚动规则

* 仅支持纵向滚动
* 不分页、不跳转

### 音频规则

* 仅由用户操作触发
* 不自动切歌

### 浮窗规则（如视频）

* 默认显示
* 可拖拽
* 不影响主流程

---

## 六、交互状态流转图（文字版）

```
[ Entry / Intro ]
        |
        | 点击“开启回忆”
        v
[ Cover 封面 ]
        |
        | 首次滚动
        v
[ Timeline 时间推进 ]
        |
        | 持续滚动
        v
[ Memories 回忆浏览 ]
        |
        | 进入高光区
        v
[ Highlight 情绪高点 ]
        |
        | 自动/滚动退出
        v
[ Pause 减速区 ]
        |
        | 继续滚动
        v
[ Ending 结束态 ]
```

---

## 七、状态机设计建议（供开发使用）

* 页面维护一个 `currentStage`
* Stage 仅随滚动方向单向推进
* 不允许回退到 Intro

---

## 八、文档说明

* 本文档为 V1.0 交互规范
* 后续可在不破坏流程的前提下增加局部互动
* 内容数据建议由 JS / JSON 驱动

---

**本交互设计目标：**
让用户在不被打断、不被教育、不被催促的情况下，
自然地完成一次「完整的年度回顾体验」。
